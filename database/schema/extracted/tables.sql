CREATE TABLE `admin_profiles` (\n  `user_id` bigint NOT NULL,\n  `title` varchar(255),\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `artist_profiles` (\n  `user_id` bigint NOT NULL,\n  `art_categories` json,\n  `art_mediums` json,\n  `business_name` varchar(255),\n  `studio_address_line1` varchar(255),\n  `studio_address_line2` varchar(255),\n  `studio_city` varchar(100),\n  `studio_state` varchar(100),\n  `studio_zip` varchar(20),\n  `artist_biography` text,\n  `business_phone` varchar(50),\n  `business_website` varchar(255),\n  `business_social_facebook` varchar(255),\n  `business_social_instagram` varchar(255),\n  `business_social_tiktok` varchar(255),\n  `business_social_twitter` varchar(255),\n  `business_social_pinterest` varchar(255),\n  `does_custom` enum('yes','no') DEFAULT no,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP,\n  `customer_service_email` varchar(255)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `cart_applied_coupons` (\n  `id` int NOT NULL auto_increment,\n  `cart_id` int NOT NULL,\n  `coupon_id` int NOT NULL,\n  `applied_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `discount_amount` decimal(10,2) NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `cart_items` (\n  `id` int NOT NULL auto_increment,\n  `cart_id` int NOT NULL,\n  `product_id` int NOT NULL,\n  `vendor_id` bigint NOT NULL,\n  `quantity` int DEFAULT 1 NOT NULL,\n  `price` decimal(10,2) NOT NULL,\n  `shipping_cost` decimal(10,2) DEFAULT 0.00,\n  `shipping_method_id` int,\n  `is_saved_for_later` tinyint(1) DEFAULT 0,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `carts` (\n  `id` int NOT NULL auto_increment,\n  `user_id` bigint,\n  `guest_token` varchar(255),\n  `status` enum('draft','abandoned','expired','processing','error','paid','accepted','shipped','cancelled','refunded') DEFAULT draft,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP,\n  `expires_at` timestamp,\n  `scheduled_deletion_at` timestamp\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `categories` (\n  `id` bigint NOT NULL auto_increment,\n  `name` varchar(100) NOT NULL,\n  `parent_id` bigint,\n  `description` text\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `community_profiles` (\n  `user_id` bigint NOT NULL,\n  `art_style_preferences` json,\n  `favorite_colors` json,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `coupons` (\n  `id` int NOT NULL auto_increment,\n  `code` varchar(50) NOT NULL,\n  `description` text,\n  `discount_type` enum('percentage','fixed_amount') NOT NULL,\n  `discount_value` decimal(10,2) NOT NULL,\n  `min_purchase_amount` decimal(10,2),\n  `max_discount_amount` decimal(10,2),\n  `is_single_use` tinyint(1) DEFAULT 0,\n  `is_vendor_specific` tinyint(1) DEFAULT 0,\n  `vendor_id` bigint,\n  `valid_from` timestamp NOT NULL,\n  `valid_until` timestamp,\n  `usage_count` int DEFAULT 0,\n  `max_usage_count` int,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `email_verification_tokens` (\n  `id` int NOT NULL auto_increment,\n  `user_id` varchar(128) NOT NULL,\n  `token` varchar(255) NOT NULL,\n  `expires_at` timestamp NOT NULL,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `media_library` (\n  `id` bigint NOT NULL auto_increment,\n  `user_id` bigint NOT NULL,\n  `file_path` varchar(255) NOT NULL,\n  `file_type` enum('image','video','document','audio') NOT NULL,\n  `mime_type` varchar(100),\n  `original_filename` varchar(255),\n  `size_bytes` int,\n  `width` int,\n  `height` int,\n  `title` varchar(255),\n  `description` text,\n  `uploaded_at` datetime DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `status` enum('active','archived','deleted') DEFAULT active\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `password_reset_tokens` (\n  `id` int NOT NULL auto_increment,\n  `user_id` bigint NOT NULL,\n  `token` varchar(255) NOT NULL,\n  `expires_at` timestamp NOT NULL,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `permissions` (\n  `user_id` bigint NOT NULL,\n  `profile_access` enum('yes','no') DEFAULT yes,\n  `marketplace_vendor` enum('yes','no') DEFAULT no,\n  `gallery_access` enum('yes','no') DEFAULT no,\n  `is_admin` enum('yes','no') DEFAULT no,\n  `is_artist` enum('yes','no') DEFAULT no,\n  `is_promoter` enum('yes','no') DEFAULT no,\n  `is_customer` enum('yes','no') DEFAULT yes,\n  `is_community` enum('yes','no') DEFAULT no,\n  `is_verified` enum('yes','no') DEFAULT no\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `permissions_log` (\n  `id` int NOT NULL auto_increment,\n  `permission_id` bigint,\n  `user_id_changed` bigint,\n  `changed_by` bigint,\n  `what_changed` text,\n  `when_changed` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `from_where` varchar(255),\n  `reason` text NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `product_categories` (\n  `product_id` bigint NOT NULL,\n  `category_id` bigint NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `product_images` (\n  `id` bigint NOT NULL auto_increment,\n  `product_id` bigint NOT NULL,\n  `image_url` varchar(255) NOT NULL,\n  `friendly_name` varchar(255),\n  `is_primary` tinyint(1) DEFAULT 0,\n  `alt_text` varchar(255),\n  `order` int\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `product_shipping` (\n  `id` bigint NOT NULL auto_increment,\n  `product_id` bigint NOT NULL,\n  `package_number` int NOT NULL,\n  `length` decimal(10,2),\n  `width` decimal(10,2),\n  `height` decimal(10,2),\n  `weight` decimal(10,2),\n  `dimension_unit` enum('in','cm'),\n  `weight_unit` enum('lbs','kg'),\n  `ship_method` enum('free','flat_rate','calculated') DEFAULT free,\n  `ship_rate` decimal(10,2),\n  `shipping_type` enum('free','calculated') DEFAULT free,\n  `shipping_services` text\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `products` (\n  `id` bigint NOT NULL auto_increment,\n  `name` varchar(100) DEFAULT Artwork NOT NULL,\n  `price` decimal(10,2) DEFAULT 0.00 NOT NULL,\n  `vendor_id` bigint NOT NULL,\n  `description` text,\n  `short_description` text,\n  `available_qty` int DEFAULT 10 NOT NULL,\n  `category_id` bigint DEFAULT 1 NOT NULL,\n  `sku` varchar(50) DEFAULT SKU-DEFAULT NOT NULL,\n  `status` enum('draft','active','deleted','hidden') DEFAULT draft,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `created_by` bigint NOT NULL,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP,\n  `updated_by` bigint,\n  `width` decimal(10,2),\n  `height` decimal(10,2),\n  `depth` decimal(10,2),\n  `weight` decimal(10,2),\n  `dimension_unit` enum('in','cm'),\n  `weight_unit` enum('lbs','kg'),\n  `parent_id` bigint,\n  `product_type` varchar(20)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `promoter_profiles` (\n  `user_id` bigint NOT NULL,\n  `business_name` varchar(255),\n  `business_phone` varchar(50),\n  `business_website` varchar(255),\n  `business_social_facebook` varchar(255),\n  `business_social_instagram` varchar(255),\n  `business_social_tiktok` varchar(255),\n  `business_social_twitter` varchar(255),\n  `business_social_pinterest` varchar(255),\n  `office_address_line1` varchar(255),\n  `office_address_line2` varchar(255),\n  `office_city` varchar(100),\n  `office_state` varchar(100),\n  `office_zip` varchar(20),\n  `is_non_profit` enum('yes','no') DEFAULT no,\n  `artwork_description` text,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `sales` (\n  `id` bigint NOT NULL auto_increment,\n  `product_id` bigint NOT NULL,\n  `sale_price` decimal(10,2) NOT NULL,\n  `start_date` datetime NOT NULL,\n  `end_date` datetime NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `saved_registrations` (\n  `id` int NOT NULL auto_increment,\n  `token` varchar(64) NOT NULL,\n  `data` text NOT NULL,\n  `expires_at` timestamp NOT NULL,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `sessions` (\n  `session_id` varchar(128) NOT NULL,\n  `expires` int unsigned NOT NULL,\n  `data` mediumtext\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `user_profiles` (\n  `user_id` bigint NOT NULL,\n  `first_name` varchar(100),\n  `last_name` varchar(100),\n  `phone` varchar(50),\n  `address_line1` varchar(255),\n  `address_line2` varchar(255),\n  `city` varchar(100),\n  `state` varchar(100),\n  `postal_code` varchar(20),\n  `country` varchar(100),\n  `profile_image_path` varchar(255),\n  `header_image_path` varchar(255),\n  `display_name` varchar(100),\n  `website` varchar(255),\n  `social_facebook` varchar(255),\n  `social_instagram` varchar(255),\n  `social_tiktok` varchar(255),\n  `social_twitter` varchar(255),\n  `social_pinterest` varchar(255),\n  `social_whatsapp` varchar(255),\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `users` (\n  `id` bigint NOT NULL auto_increment,\n  `username` varchar(255) NOT NULL,\n  `password` varchar(255),\n  `email_verified` enum('yes','no') DEFAULT no,\n  `user_type` enum('artist','promoter','community','admin') NOT NULL,\n  `status` enum('active','inactive','suspended') DEFAULT active,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP,\n  `last_login` timestamp,\n  `google_uid` varchar(128)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `variant_kinds` (\n  `id` int NOT NULL auto_increment,\n  `user_id` bigint NOT NULL,\n  `name` varchar(50) NOT NULL,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `vendor_shipping_methods` (\n  `id` int NOT NULL auto_increment,\n  `vendor_id` bigint NOT NULL,\n  `name` varchar(100) NOT NULL,\n  `type` enum('free','flat','calculated') NOT NULL,\n  `flat_rate` decimal(10,2),\n  `calculation_method` varchar(50),\n  `is_default` tinyint(1) DEFAULT 0,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
CREATE TABLE `vendor_sku_log` (\n  `id` bigint NOT NULL auto_increment,\n  `vendor_id` bigint NOT NULL,\n  `sku` varchar(50) NOT NULL,\n  `product_id` bigint,\n  `created_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED,\n  `updated_at` timestamp DEFAULT CURRENT_TIMESTAMP DEFAULT_GENERATED on update CURRENT_TIMESTAMP\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
